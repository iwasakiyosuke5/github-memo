<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>ã˜ã‚ƒã‚“ã‘ã‚“</title>
</head>
<body>

<header>
  <h1>ã˜ã‚ƒã‚“ã‘ã‚“</h1>
  <h3>ä¸‰ç•ªå‹è² <span>å²©å´å®¶ã®ã‚­ãƒƒã‚º</span>ã¨å¯¾æˆ¦ã—ã‚ˆã†ï¼</h3>
</header>

<main>
  <div class="select">
    <select id="difficultySelect">
      <option value="" hidden>å¯¾æˆ¦ç›¸æ‰‹ã®ãƒ¬ãƒ™ãƒ«ã‚’é¸ã¼ã†</option>
      <option value="easy">é•·ç”·ï¼ˆã‹ã‚“ãŸã‚“ï¼‰</option>
      <option value="medium">æ¬¡å¥³ï¼ˆãµã¤ã†ï¼‰</option>
      <option value="hard">é•·å¥³ï¼ˆã‚€ãšã‹ã—ã„ï¼‰</option>
    </select>

  </div>
  <div class="jankenN">å¯¾æˆ¦å›æ•°ï¼š<span id="jankenN">0å›</div>
  <div class="Evaluation"><span id="winParImg"></div>
  <div class="enemyHP">å¯¾æˆ¦ç›¸æ‰‹ã®HPï¼š<span id="enemyHP"></div>

  <ul>
    <li id="gu_btn">ã‚°ãƒ¼âœŠ</li>
    <li id="cho_btn">ãƒãƒ§ã‚­âœŒï¸</li>
    <li id="par_btn">ãƒ‘ãƒ¼ğŸ–ï¸</li>
  </ul>
  <div class="vsHand">
    <div id="taisenaite">å¯¾æˆ¦ç›¸æ‰‹ã¯</div>
    <div id="pc_hands">ãªã«ï¼Ÿ</div>    
  </div>
  <div class="judgment">åˆ¤å®šï¼š<span id="judgment">-</div>
  <div class="results">
      <div class="result">å‹ã¡æ•°ï¼š<span id="winN">0å›</div>
      <div class="result">å¼•ãåˆ†ã‘æ•°ï¼š<span id="evenN">0å›</div>
      <div class="result">è² ã‘æ•°ï¼š<span id="loseN">0å›</div>
  </div>
  <div class="winRate">å‹ç‡ï¼š<span id="winParcent">-%</div>
  <div class="center"><button id="endBtn" style="display: none">ï¼‘ã‚»ãƒƒãƒˆç›®çµ‚äº†</button></div>
</main>
  
<footer class="footer">
  <p>copyrights jajankenkyokai.</p>
</footer>
<footer2>
  <div class="pattarn2">
    <details class="summary"> 
      <summary>åˆå›ç‰ˆã‹ã‚‰ã®å¤‰æ›´ç‚¹</summary>
      <p>é›£æ˜“åº¦ã®è¨­å®š(å‹ç‡1/3, 1/5, 1/7)</p>
      <p>å˜ç´”ãªã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‹ã‚‰ã€ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹ç‡ã§ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹ä»•æ§˜ã«å¤‰æ›´</p>
      <p>å¹³å‡å‹ç‡(ex.52.9%)ã‚’5*2*9ã¨ã—ã¦è¨ˆç®—ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€<br>å¹³å‡å¼•ãåˆ†ã‘æ•°ã¨æ›ã‘åˆã‚ã›ã¦<br>æœ€å¾Œã®ãƒãƒ£ãƒ³ã‚¹æ©Ÿèƒ½ã‚’æ­è¼‰</p>
      <p>æ±ºã‚ã‚‰ã‚ŒãŸé †åºã§ã‚°ãƒ¼ãƒãƒ§ã‚­ãƒ‘ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ç¢ºå¤‰ãƒ¢ãƒ¼ãƒ‰ã«çªå…¥ã™ã‚‹<br>â†’é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã®ã‚¯ãƒªãƒƒã‚¯ã¨ã®é‡è¤‡å•é¡Œã®è§£æ±ºã«ç›¸å½“ã®æ™‚é–“ã‚’æœ‰ã—ã¾ã—ãŸã€‚</p>
</footer2> 


<script>

//ã˜ã‚ƒã‚“ã‘ã‚“ç”¨ã®SCRIPTã‚’æ›¸ã„ã¦ãã ã•ã„
let winN = 0;
let evenN = 0;
let totalEven = 0;
let loseN = 0;
let gameN = 0;
let enemyHP = 200;
$("#enemyHP").html(enemyHP);
// è£æŠ€ç”¨ã®é †åºãƒªã‚¹ãƒˆ
let clickOrder = [];

let victoryAchieved = false;

$("#gu_btn, #cho_btn, #par_btn").on("click", function() {
  const buttonId = $(this).attr("id");
  clickOrder.push(buttonId);
  
  //ä¸‹è¨˜ã§ã©ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚‚gu,gu,par,cho,parã®é †ã§ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã€ç¢ºå¤‰ãƒ¢ãƒ¼ãƒ‰ã«çªå…¥ã‚’æŒ‡ç¤º
  if (clickOrder.length >= 5 &&
      clickOrder[clickOrder.length - 5] === "gu_btn" &&
      clickOrder[clickOrder.length - 4] === "gu_btn" &&
      clickOrder[clickOrder.length - 3] === "par_btn" &&
      clickOrder[clickOrder.length - 2] === "cho_btn" &&
      clickOrder[clickOrder.length - 1] === "par_btn") {
      victoryAchieved = true;  
      console.log("ç¢ºå¤‰");
      // const a = 1;
  }
  // ç¢ºå¤‰ãƒ¢ãƒ¼ãƒ‰ã®æ™‚ã®å‡¦ç†
  if (victoryAchieved) {
    //"#gu_btn, #cho_btn, #par_btn"äºŒé‡ã‚¯ãƒªãƒƒã‚¯ã‚’è§£é™¤ 
    $("#gu_btn, #cho_btn, #par_btn").off("click");  
    // å†åº¦"#gu_btn, #cho_btn, #par_btn"ãŒvictoryAchieved:trueã®æ™‚ã®ã¿ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®š
    $("#gu_btn, #cho_btn, #par_btn").on("click",function(){
      winN++;
      gameN++;
      $("#taisenaite").html('');
      $("#pc_hands").html('<img class=celeb src="./img/Firefly_celeb.jpg">');
      setTimeout(function() {
        $("#judgment").html("ã‹ã¡");
        $("#winN").html(winN + "å›");
        // console.log(winN + "å›");
      }, 400);
      $("#jankenN").html(gameN + `å›`);
      finalParcent = (winN / gameN * 100).toFixed(1); // finalParcentã«å€¤ã‚’ä»£å…¥

      // console.log(finalParcent + "%");
      setTimeout(function() {
        $("#winParcent").html(finalParcent + "%");
      }, 400);

      if (gameN === 7) {
        setTimeout(function() {
          $("#winParImg").html("ç¢ºå¤‰ï¼");
        }, 400);
      }else{
        setTimeout(function() {
          $("#winParImg").html("ç¢ºå¤‰ï¼");
        }, 400);
      };

      if (gameN === 7) {
        document.getElementById("gu_btn").style.pointerEvents = "none";
        document.getElementById("cho_btn").style.pointerEvents = "none";
        document.getElementById("par_btn").style.pointerEvents = "none";
        setTimeout(function() {
          $("#endBtn").css("display", "block");
        }, 400);
      }
    });
  };
});

$("#difficultySelect").on("change", function() {
  console.log("é›£æ˜“åº¦ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸ");
  const selectedDifficulty = $(this).val();
  console.log("é¸æŠã•ã‚ŒãŸé›£æ˜“åº¦:", selectedDifficulty);
  
if (selectedDifficulty === "easy"){
  // ã“ã“ã‹ã‚‰é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã§ã®ã˜ã‚ƒã‚“ã‘ã‚“ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
  // guã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#gu_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*3)
    $("#cho_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #par_btn").css("filter", "");
    }, 400); 

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      console.log("winN" + winN + "å›");
      }, 400); 
      // $("#judgment").html("ã‹ã¡");
      
      
    }else if(a === 2){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      console.log("evenN" + evenN + "å›");
      }, 400); 
      // $("#judgment").html("å¼•ãåˆ†ã‘");
      
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      console.log("loseN" + loseN + "å›");
      }, 400); 

      // $("#judgment").html("è² ã‘");
    };
    

  });

  // choã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#cho_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*3)
    $("#gu_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#gu_btn, #par_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);
      

    }else if(a === 2){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    

  });

  // parã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#par_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*3)
    $("#cho_btn, #gu_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #gu_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);

    }else if(a === 2){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    
  });

  $("#gu_btn, #cho_btn, #par_btn").on("click",function() {
  gameN++;
  console.log("gameN:" + gameN);
  $("#jankenN").html(gameN + `å›`);
  
  // å‹ç‡=finalParcent
  finalParcent = (winN / gameN * 100).toFixed(1); 

  // console.log(finalParcent + "%");
  setTimeout(function() {
    $("#winParcent").html(finalParcent + "%");
  }, 400);

  if (gameN === 7 && winN / gameN * 100 >= 50) {
    setTimeout(function() {
      $("#winParImg").html("ãŠã‚ã§ã¨ã†");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 >= 30) {
    setTimeout(function() {
      $("#winParImg").html("ã‚ã¨ã‚‚ã†å°‘ã—");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 < 30) {
    setTimeout(function() {
      $("#winParImg").html("æ®‹å¿µ");
    }, 400);

  } else {
    $("#winParImg").html("æ®‹ã‚Š" + (7 - gameN) + "å›");
  };

  if (gameN === 7) {
    document.getElementById("gu_btn").style.pointerEvents = "none";
    document.getElementById("cho_btn").style.pointerEvents = "none";
    document.getElementById("par_btn").style.pointerEvents = "none";
    setTimeout(function() {
      $("#endBtn").css("display", "block");
    }, 400);
  }
  });

}else if(selectedDifficulty === "medium"){
  // ã“ã“ã‹ã‚‰é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã§ã®ã˜ã‚ƒã‚“ã‘ã‚“ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
  // guã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#gu_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*5)
    $("#cho_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #par_btn").css("filter", "");
    }, 400); 

    if(a === 1){
      console.log("n good");
      winN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400); 
      // $("#judgment").html("ã‹ã¡");
      
      
    }else if(a === 2 || a === 4){
      console.log("n even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      // $("#judgment").html("å¼•ãåˆ†ã‘");
      
      
    }else{
      console.log("n bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 

      // $("#judgment").html("è² ã‘");
    };
    

  });

  // choã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#cho_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*5)
    $("#gu_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#gu_btn, #par_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);
      

    }else if(a === 2 || a === 4){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    

  });

  // parã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#par_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*5)
    $("#cho_btn, #gu_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #gu_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);

    }else if(a === 2 || a ===4){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    
  });

  $("#gu_btn, #cho_btn, #par_btn").on("click",function() {
  gameN++;
  console.log("gameN:" + gameN);
  $("#jankenN").html(gameN + `å›`);
  
  // å‹ç‡=finalParcent
  finalParcent = (winN / gameN * 100).toFixed(1); 

  // console.log(finalParcent + "%");
  setTimeout(function() {
    $("#winParcent").html(finalParcent + "%");
  }, 400);

  if (gameN === 7 && winN / gameN * 100 >= 50) {
    setTimeout(function() {
      $("#winParImg").html("ãŠã‚ã§ã¨ã†");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 >= 30) {
    setTimeout(function() {
      $("#winParImg").html("ã‚ã¨ã‚‚ã†å°‘ã—");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 < 30) {
    setTimeout(function() {
      $("#winParImg").html("æ®‹å¿µ");
    }, 400);

  } else {
    $("#winParImg").html("æ®‹ã‚Š" + (7 - gameN) + "å›");
  };

  if (gameN === 7) {
    document.getElementById("gu_btn").style.pointerEvents = "none";
    document.getElementById("cho_btn").style.pointerEvents = "none";
    document.getElementById("par_btn").style.pointerEvents = "none";
    setTimeout(function() {
      $("#endBtn").css("display", "block");
    }, 400);
  }
  });


}else if (selectedDifficulty === "hard"){
  // ã“ã“ã‹ã‚‰é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã§ã®ã˜ã‚ƒã‚“ã‘ã‚“ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
  // guã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#gu_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*7)
    $("#cho_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #par_btn").css("filter", "");
    }, 400); 

    if(a === 1){
      console.log("h good");
      winN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400); 
      // $("#judgment").html("ã‹ã¡");
      
      
    }else if(a === 2 || a === 4 || a === 6){
      console.log("h even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      // $("#judgment").html("å¼•ãåˆ†ã‘");
      
      
    }else{
      console.log("h bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 

      // $("#judgment").html("è² ã‘");
    };
    

  });

  // choã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#cho_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*7)
    $("#gu_btn, #par_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#gu_btn, #par_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);
      

    }else if(a === 2 || a === 4 || a === 6){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    

  });

  // parã‚’æŠ¼ã—ãŸæ™‚ã®å‹ã¡è² ã‘
  $("#par_btn").on("click",function() {
    
    const a = Math.ceil(Math.random()*7)
    $("#cho_btn, #gu_btn").css("filter", "blur(5px)");
    setTimeout(function() {
      $("#cho_btn, #gu_btn").css("filter", "");
    }, 400); 
    

    if(a === 1){
      // console.log("good");
      winN++;
      $("#pc_hands").html('<img src="./img/gu.png">');
      setTimeout(function() {
      $("#judgment").html("ã‹ã¡");
      $("#winN").html(winN + "å›");
      // console.log(winN + "å›");
      }, 400);

    }else if(a === 2 || a === 4 || a === 6){
      // console.log("even");
      totalEven++;
      evenN++;
      $("#pc_hands").html('<img src="./img/par.png">');
      setTimeout(function() {
      $("#judgment").html("å¼•ãåˆ†ã‘");
      $("#evenN").html(evenN + "å›");
      // console.log(evenN + "å›");
      }, 400); 
      
    }else{
      // console.log("bad");
      loseN++;
      $("#pc_hands").html('<img src="./img/cho.png">');
      setTimeout(function() {
      $("#judgment").html("è² ã‘");
      $("#loseN").html(loseN + "å›");
      // console.log(loseN + "å›");
      }, 400); 
    };
    
  });

  $("#gu_btn, #cho_btn, #par_btn").on("click",function() {
  gameN++;
  console.log("gameN:" + gameN);
  $("#jankenN").html(gameN + `å›`);
  
  // å‹ç‡=finalParcent
  finalParcent = (winN / gameN * 100).toFixed(1); 

  // console.log(finalParcent + "%");
  setTimeout(function() {
    $("#winParcent").html(finalParcent + "%");
  }, 400);

  if (gameN === 7 && winN / gameN * 100 >= 50) {
    setTimeout(function() {
      $("#winParImg").html("ãŠã‚ã§ã¨ã†");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 >= 30) {
    setTimeout(function() {
      $("#winParImg").html("ã‚ã¨ã‚‚ã†å°‘ã—");
    }, 400);

  } else if (gameN === 7 && winN / gameN * 100 < 30) {
    setTimeout(function() {
      $("#winParImg").html("æ®‹å¿µ");
    }, 400);

  } else {
    $("#winParImg").html("æ®‹ã‚Š" + (7 - gameN) + "å›");
  };

  if (gameN === 7) {
    document.getElementById("gu_btn").style.pointerEvents = "none";
    document.getElementById("cho_btn").style.pointerEvents = "none";
    document.getElementById("par_btn").style.pointerEvents = "none";
    setTimeout(function() {
      $("#endBtn").css("display", "block");
    }, 400);
  }
  });


};
});



// #gu_btn, #cho_btn, #par_btn"ã©ã‚Œã‚’æŠ¼ã—ã¦ã‚‚å¢—ãˆã‚‹è©¦åˆæ•°ã®è¨ˆç®—ç”¨
// $("#gu_btn, #cho_btn, #par_btn").on("click",function() {
//   gameN++;
//   console.log("gameN:" + gameN);
//   $("#jankenN").html(gameN + `å›`);
  
//   // å‹ç‡=finalParcent
//   finalParcent = (winN / gameN * 100).toFixed(1); 

//   // console.log(finalParcent + "%");
//   setTimeout(function() {
//     $("#winParcent").html(finalParcent + "%");
//   }, 400);

//   if (gameN === 7 && winN / gameN * 100 >= 50) {
//     setTimeout(function() {
//       $("#winParImg").html("ãŠã‚ã§ã¨ã†");
//     }, 400);

//   } else if (gameN === 7 && winN / gameN * 100 >= 30) {
//     setTimeout(function() {
//       $("#winParImg").html("ã‚ã¨ã‚‚ã†å°‘ã—");
//     }, 400);

//   } else if (gameN === 7 && winN / gameN * 100 < 30) {
//     setTimeout(function() {
//       $("#winParImg").html("æ®‹å¿µ");
//     }, 400);

//   } else {
//     $("#winParImg").html("æ®‹ã‚Š" + (7 - gameN) + "å›");
//   };

//   if (gameN === 7) {
//     document.getElementById("gu_btn").style.pointerEvents = "none";
//     document.getElementById("cho_btn").style.pointerEvents = "none";
//     document.getElementById("par_btn").style.pointerEvents = "none";
//     setTimeout(function() {
//       $("#endBtn").css("display", "block");
//     }, 400);
//   }

// });

// å‹ç‡ã‚’åç´ã™ã‚‹ãƒªã‚¹ãƒˆ
let winParcentList = [];
let finalParcent = 0; // åˆæœŸå€¤ã‚’è¨­å®š
let setCounter = 1;

$("#endBtn").on("click", function() {
  // endoBtnã‚’æŠ¼ã—ãŸæ™‚ã«ã‚¼ãƒ­ã«æˆ»ã™ã¹ãæ•°å€¤ã®å‡¦ç†
  winN = 0;
  evenN = 0;
  loseN = 0;
  gameN = 0;
  jankenN = 0;
  let sum = 0;
  
  winParcentList.push(finalParcent);
  // console.log(winParcentList);
  
  // ä¸‹è¨˜æ›¸ãæ–¹ã«ç´å¾—ã„ã‹ãªã„ãŒã€è¦šãˆã‚‹ã“ã¨ã¨ã™ã‚‹
  let footerHTML = "ç›¸æ‰‹ã«ä¸ãˆãŸãƒ€ãƒ¡ãƒ¼ã‚¸(å‹ç‡)ï¼š" + winParcentList.join(", ") + "";
 
  // ãƒ•ãƒƒã‚¿ãƒ¼ã«ç›¸æ‰‹ã«ä¸ãˆãŸãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¨˜è¼‰ã—ã¦ã„ã
  $("footer").html(footerHTML);  

  $("#pc_hands").html("ãªã«ï¼Ÿ");
  $("#judgment").html("-");
  $("#jankenN").html(jankenN + "å›");
  $("#winN").html(winN + "å›");
  $("#evenN").html(evenN + "å›");
  $("#loseN").html(loseN + "å›");
  $("#gameN").html(gameN + "å›");
  $("#winParcent").html("0%");
  $("#winParImg").html("");
  $("#endBtn").css("display", "none");
  // ä¸€åº¦æ¶ˆã—ãŸãƒœã‚¿ãƒ³å¾©æ´»æ©Ÿèƒ½ã‚’å†ç”Ÿ
  document.getElementById("gu_btn").style.pointerEvents = "auto";
  document.getElementById("cho_btn").style.pointerEvents = "auto";
  document.getElementById("par_btn").style.pointerEvents = "auto";
    
    for (let index = 0; index < winParcentList.length; index += 1){
      let item = winParcentList[index];
      // ãªãœã‹æ–‡å­—åˆ—åŒ–ã—ã¦ã„ã‚‹ãŸã‚parseFloatã§æ•°å€¤åŒ–ã™ã‚‹
      sum += parseFloat(item); 
      // console.log("item:", item)
      // console.log("sum:", sum)
      // console.log("finalParcent:", finalParcent);
      // console.log("finalParcent is a number:", !isNaN(finalParcent));
      // console.log(item);
    };

  


  let average = (sum / winParcentList.length).toFixed(2);
  console.log("Average", average);
    
  enemyHP = (200 - sum).toFixed(1);
  if (enemyHP >= 0){
    $("#enemyHP").html(enemyHP);
  }else{
    $("#enemyHP").html(0);
  }
  
    // averageã‚’åˆ†è§£ã—ã¦ãã‚Œãã‚Œæ•´æ•°å€¤ã¨ã—ã¦ä¸ãˆç›´ã™ã€‚
    let tensDigit = Math.floor(average / 10);

    // ä¸€ã®ä½ã‚’å–å¾—
    let onesDigit = Math.floor(average) % 10;

    // å°æ•°ç‚¹ä»¥ä¸‹ã®ä¸€ã®ä½ã‚’å–å¾—
    let onesDecimalDigit = Math.floor((average - Math.floor(average)) * 10);

    // çµæœã‚’å‡ºåŠ›
    console.log("tensDigit:", tensDigit);
    console.log("onesDigit:", onesDigit);
    console.log("onesDecimalDigit:", onesDecimalDigit);
    let finalAtack = tensDigit * onesDigit * onesDecimalDigit * totalEven / 3;
    console.log("finalAtack:", finalAtack);
    
    FinalHP = (enemyHP - finalAtack).toFixed(1);
    console.log("æœ€çµ‚HP:", FinalHP);

  
});
let lastChancePressed = 0;


$("#difficultySelect").on("change", function() {
  console.log("é›£æ˜“åº¦ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸ");
  const selectedDifficulty = $(this).val();
  console.log("é¸æŠã•ã‚ŒãŸé›£æ˜“åº¦:", selectedDifficulty);
$("#endBtn").on("click", function() {
  // endBtnã®è¡¨ç¤ºå¤‰æ›´
  setCounter += 1;
  let setText = "";
  if (setCounter === 1) {
    setText = "ï¼‘ã‚»ãƒƒãƒˆç›®çµ‚äº†";
  } else if (setCounter === 2) {
    setText = "ï¼’ã‚»ãƒƒãƒˆç›®çµ‚äº†";
  } else {
    setText = "æœ€çµ‚ã‚»ãƒƒãƒˆçµ‚äº†";
  }
  if (setCounter === 4) {
    document.getElementById("gu_btn").style.pointerEvents = "none";
    document.getElementById("cho_btn").style.pointerEvents = "none";
    document.getElementById("par_btn").style.pointerEvents = "none";
    console.log("ç·å¼•ãåˆ†ã‘æ•°ï¼š", totalEven);
  }

  $("#endBtn").html(setText);

  // ãƒ©ã‚¹ãƒˆãƒœã‚¿ãƒ³ã®è¡¨ç¤º
  lastChancePressed++;
  if (lastChancePressed >= 3) {
    $("#endBtn").after('<button id="lastChanceBtn">ãƒ©ã‚¹ãƒˆãƒãƒ£ãƒ³ã‚¹<br>(å‹ç‡æ¬¡ç¬¬ã˜ã‚ƒãƒãƒ£ãƒ³ã‚¹ã‚ã‚Š)</button>');
  }

  
  if (selectedDifficulty === "easy"){
  $("#lastChanceBtn").on("click", function() {
    $("#enemyHP").html(FinalHP);
        
    if (FinalHP <= 0) {
      $("#pc_hands").html('<img class=crying src="./img/Firefly_9years.jpg">');
      $("#enemyHP").html(0);
    }else if(FinalHP <= 40) {
      $("#pc_hands").html("åŠæ³£ã");
    }else{
      $("#pc_hands").html("ã¸ã£ã¡ã‚ƒã‚‰");
    };

    $(this).hide();
    $(this).after('<button id="allClear">æœ€åˆã‹ã‚‰</button>');
    $("#allClear").on("click", function() {
      location.reload();
    });

  });
  }else if(selectedDifficulty === "medium"){
    $("#lastChanceBtn").on("click", function() {
    $("#enemyHP").html(FinalHP);
        
    if (FinalHP <= 0) {
      $("#pc_hands").html('<img class=crying src="./img/Firefly_3years.jpg">');
      $("#enemyHP").html(0);
    }else if(FinalHP <= 40) {
      $("#pc_hands").html("åŠæ³£ã");
    }else{
      $("#pc_hands").html("ã¸ã£ã¡ã‚ƒã‚‰");
    };

    $(this).hide();
    $(this).after('<button id="allClear">æœ€åˆã‹ã‚‰</button>');
    $("#allClear").on("click", function() {
      location.reload();
    });

  });
  }else if(selectedDifficulty === "hard"){
    $("#lastChanceBtn").on("click", function() {
    $("#enemyHP").html(FinalHP);
        
    if (FinalHP <= 0) {
      $("#pc_hands").html('<img class=crying src="./img/Firefly_7years.jpg">');
      $("#enemyHP").html(0);
    }else if(FinalHP <= 40) {
      $("#pc_hands").html("åŠæ³£ã");
    }else{
      $("#pc_hands").html("ã¸ã£ã¡ã‚ƒã‚‰");
    };

    $(this).hide();
    $(this).after('<button id="allClear">æœ€åˆã‹ã‚‰</button>');
    $("#allClear").on("click", function() {
      location.reload();
    });

  });
  }
});
});
  


</script>
</body>
</html>
